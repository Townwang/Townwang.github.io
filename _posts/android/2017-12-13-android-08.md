---
layout: post
title: "万能适配器"
date: 2017-12-13
categories: android
tags: android
author: Town
cover: https://i.loli.net/2017/11/24/5a17d0624b3ac.png
---

# 背景#

>,重构公司项目时优化  做个记录.以后用得到


### 没有废话,直接代码

像这样
```java

/**
 *  @author Town
 *  @created at 2017/11/20 11:45
 *  @Last Modified by: Town
 *  @Last Modified time: 2017/11/20 11:45
 *  @Remarks 万能适配器
 */
public abstract class BaseCommAdapter<T> extends BaseAdapter {
    private List<T> mDatas;

    public BaseCommAdapter(List<T> datas) {
        mDatas = datas;
    }

    @Override
    public int getCount() {
        return mDatas == null ? 0 : mDatas.size();
    }

    @Override
    public T getItem(int position) {
        return mDatas.get(position);
    }

    @Override
    public long getItemId(int position)
    {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder = ViewHolder
                .newsInstance(convertView, parent.getContext(), getLayoutId());
        setUI(holder,position,parent.getContext());
        return holder.getConverView();
    }

    /**
     * 设置UI
     * @param holder
     * @param position
     * @param context
     */
    protected abstract void setUI(ViewHolder holder, int position, Context context);

    /**
     * 设置布局
     * @return
     */
    protected abstract int getLayoutId();
}

```
 
### 使用方法

1. 继承自我们的万能适配器

```java

class DeliveryAdapter  extends BaseCommAdapter<JavaBean>{
     DeliveryAdapter(List<JavaBean> datas) {
        super(datas);
    }

    @Override
    protected void setUI(ViewHolder holder, int position, Context context) {
       
    }

    @Override
    protected int getLayoutId() {
        return R.layout.item_delivery;
    }
    }

```

2. 当正常适配器使用即可

我只是做个记录